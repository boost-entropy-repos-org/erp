MODULE PurchaseInvoiceContract;

REQUIRE PurchaseInvoice, InvoiceContract, ContractPayment;

NAMESPACE Purchase;

@defineInvoicePaymentCondition(' (закупка)');

@defineInvoiceContractSum();
// ------------------- Проведение по регистру задолженностей ----------------------- //

@implementContractLedger(a, Invoice, contractSku);
sum[ContractALedger](Invoice contractALedger) += OVERRIDE contractSum(contractALedger), invoiceSumInvoiceDetail(contractALedger);

TABLE invoicePaymentPeriod (Invoice, PaymentPeriod);
@implementContractPrepaymentLedger(invoice, invoiceSumInvoiceDetail, contractSku);

@implementInContractLedger(Invoice, contractSku);
sum[InContractLedger](Invoice inContractLedger) += OVERRIDE contractSum(inContractLedger), invoiceSumInvoiceDetail(inContractLedger);

inContractLedger[ContractLedger](InvoiceContractLedger l) += invoice(l);