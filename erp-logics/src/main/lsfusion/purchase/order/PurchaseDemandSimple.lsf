MODULE PurchaseDemandSimple;

REQUIRE PurchaseDemand;

NAMESPACE Purchase;


recQuantity (Sku sku, UserOrder userOrder) =    purchaseReserve(customerStock(userOrder), sku, date(userOrder)) (+) 
                                                                            quantitySold(sku, userOrder) (-)
                                                                            currentReservePurchase(sku, customerStock(userOrder)) (-) 
                                                                            (currentBalance(sku, customerStock(userOrder)) IF currentBalance(sku, customerStock(userOrder)) > 0.0) ; 

recommendedQuantity (Sku sku, UserOrder userOrder) += recQuantity(sku, userOrder) IF recQuantity(sku, userOrder) > 0;
