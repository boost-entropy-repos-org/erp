MODULE InvoiceTerminalOrder;

REQUIRE Invoice, TerminalOrder;

NAMESPACE Invoice;

EXTEND CLASS Invoice : TerminalOrder;
EXTEND CLASS InvoiceDetail : TerminalOrderDetail;

date[TerminalOrder] (Invoice i) += date(i);
number[TerminalOrder] (Invoice invoice) += number(invoice);
idSupplier[TerminalOrder] (Invoice i) += idFromStock(i);
isOpened[TerminalOrder] (Invoice i) += isOpened(i);

order[TerminalOrderDetail] (InvoiceDetail d) += invoice(d);
idBarcodeSku[TerminalOrderDetail] (InvoiceDetail d) += idBarcodeSku(d);
idSku[TerminalOrderDetail] (InvoiceDetail d) += idSku(d);
nameSku[TerminalOrderDetail] (InvoiceDetail d) += nameSku(d);
price[TerminalOrderDetail] (InvoiceDetail d) += price(d);
orderQuantity[TerminalOrderDetail] (InvoiceDetail d) += quantity(d);

nameManufacturerSku (Invoice.InvoiceDetail d) = name(manufacturer(sku(d)));
nameManufacturerSku[TerminalOrderDetail] (Invoice.InvoiceDetail d) += nameManufacturerSku(d);

passScalesSku(Invoice.InvoiceDetail d) = passScales(sku(d));
passScalesSku[TerminalOrderDetail] (Invoice.InvoiceDetail d) += passScalesSku(d);