MODULE RetailBonus;

REQUIRE RetailCRM;

@defineOption(blockDaysBonus, 'Блокировать бонусы на столько дней', INTEGER, discountCards);

@defineOption(useBonus, 'Использовать бонусы', BOOLEAN, discountCards);

//Бонусы
useBonus 'Использовать бонусы' = DATA BOOLEAN (Promotion);
useBonus 'Использовать бонусы' (PromotionCondition c) = useBonus(promotion(c)) PERSISTENT;

EXTEND FORM promotion
    PROPERTIES(sh) SHOWIF useBonus() useBonus 
;

DESIGN promotion {
    row01 {
        MOVE PROPERTY(useBonus(sh));
    }
}

EXTEND FORM promotions
    PROPERTIES(sh) READONLY SHOWIF useBonus() useBonus 
;