MODULE DiscountCardSaleLedger;

REQUIRE ZReportDiscountCard, SaleLedger;

NAMESPACE DiscountCard;

EXTEND FORM discountCards
    OBJECTS l=SaleLedger
    PROPERTIES(l) READONLY nameDOWSaleLedger, dateTimeSaleLedger,  
                           nameStockSaleLedger, nameSkuSaleLedger, descriptionSaleLedger, numberDocumentSaleLedger,
                           quantitySaleLedger, costSumSaleLedger, markupSumSaleLedger, valueVATSaleLedger,
                           sumVATSaleLedger, sumSaleLedger, averagePriceSaleLedger   
    ORDER BY dateTimeSaleLedger(l)                        
    FILTERS discountCardReceiptDetail(l)==d OR discountCardReceipt(receiptSaleReceiptReturnDetail(l))==d                           
    
;
DESIGN discountCards {
    main {
        MOVE d.box;
        MOVE l.box;
        MOVE functions.box;
    }
}