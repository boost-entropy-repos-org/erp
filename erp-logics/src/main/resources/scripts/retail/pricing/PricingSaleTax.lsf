MODULE PricingSaleTax;

REQUIRE PricingSale, SkuLedgerTax;

NAMESPACE Sale;

overSetValueRetailVATUserInvoiceDetail(detail) += OVERRIDE valueVATBatch(batchUserInvoiceDetail(detail)), valueRetailVATBatch(batchUserInvoiceDetail(detail));

// todo : временное решение, пока нету последовательности выполнения событий
WHEN SESSION FORMS userInvoice CHANGED(batchUserInvoiceDetail(d)) DO {
    valueRetailVATUserInvoiceDetail(d) <- overSetValueRetailVATUserInvoiceDetail(d) WHERE overSetValueRetailVATUserInvoiceDetail(d); 
}
