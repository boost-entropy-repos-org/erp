MODULE PricingPurchaseReturnTax;

REQUIRE PricingPurchaseReturn, SkuLedgerTax;

NAMESPACE PurchaseReturn;


overSetValueRetailVAT(UserInvoiceDetail detail) += valueVAT(batch(detail)) IF valueVAT(batch(detail)) != 0;

// todo : временное решение, пока нету последовательности выполнения событий
WHEN SESSION FORMS userInvoice CHANGED(batch(UserInvoiceDetail d)) DO {
    valueRetailVAT(d) <- calcSetValueRetailVAT(d); 
}
