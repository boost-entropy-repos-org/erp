MODULE ZReportTax;

REQUIRE SkuLedgerTax, ZReport;

NAMESPACE Stock;

overValueVAT(ReceiptDetail d) += valueVAT(batch(d));

WHEN LOCAL SETCHANGED(ZReport.batch(ReceiptSaleDetail d)) DO {
    VAT(d) <- VAT(ZReport.batch(d));
}
WHEN LOCAL SETCHANGED(ZReport.batch(ReceiptReturnDetail d)) DO {
    VAT(d) <- VAT(ZReport.batch(d));
}                                