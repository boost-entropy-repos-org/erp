MODULE RepricingLabel;

REQUIRE Repricing, Label;

NAMESPACE Repricing;

// ------------------------------------- Печать ценников ------------------------------ //

@Label.implementPriceTransactionDocument(Repricing);
skip[PriceTransactionDocument](Repricing document) += skipChangeLedger(document);

@defineDocumentLabelTransaction(repricing, sku, batch, departmentStore);
@extendFormDocumentLabelTransaction(repricings, p, repricing, skipChangeLedger, machineryContainer);

createAttribute (RepricingDetail r, LabelTransactionDetail t) += ACTION {
    retailPrice(t) <- curRetailPrice(r) WHERE curRetailPrice(r) > retailPrice(r) AND NOT overRetailPrice(t);
}