MODULE SaleAgreement;

REQUIRE Agreement, Sale;

NAMESPACE  Sale;

// ----------------------------------------------- Виды цен --------------------------------- //

salePriceListType = DATA PriceListType ();
nameSalePriceListType 'Вид цены (продажа) по умолчанию для соглашения' = namePriceListType(salePriceListType());

EXTEND FORM options PROPERTIES() nameSalePriceListType;
DESIGN options {
    sale {        
        ADD PROPERTY(nameSalePriceListType());
    }    
}

WHEN SESSION FORMS agreement, legalEntity 
    SET(isSaleAgreement(a)) DO {
        priceListTypeAgreement (a) <- salePriceListType();
    } 