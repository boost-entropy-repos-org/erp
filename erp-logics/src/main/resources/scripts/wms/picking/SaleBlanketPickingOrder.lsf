MODULE SaleBlanketPickingOrder;

REQUIRE SalePickingOrder, SaleBlanketOrder;

NAMESPACE Sale;


createPickingOrderBlanketOrderStock 'Заказ на комплектацию' = DATA BOOLEAN (BlanketOrder, Stock);

createPickingOrderBlanketOrderStock (o, st) <- createPickingOrderOperation(operationBlanketOrderStock(o, st)) IF inBlanketOrderStock(o,st)  
    WHEN CHANGED(createPickingOrderOperation(operationBlanketOrderStock(o, st))) OR CHANGED(inBlanketOrderStock(o,st));
 
EXTEND FORM blanketOrder
    PROPERTIES(o,c) createPickingOrderBlanketOrderStock AFTER nameOperationBlanketOrderStock      
;
createPickingOrderOrder(o) += createPickingOrderBlanketOrderStock(blanketOrderBlanketOrderOrder(o), stockBlanketOrderOrder(o));
pickingNumberOrderDetail(d) +=  1 IF d IS BlanketOrderOrderDetail;

