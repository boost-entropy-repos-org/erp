MODULE LabelDefault;

REQUIRE Label, Pricing, ItemDefault;

NAMESPACE Label;

// ---------------------------------------------------------- Стандартные значения --------------------------------- //

loadDefaultLabelType 'Добавить тип ценника'(VARISTRING[50] name, INTEGER width, INTEGER height, PrintOrientation orientation, VARSTRING[200] file) = {
    NEW lt = LabelType {
        name(lt) <- name;
        width(lt) <-width;
        height(lt) <-height;
        orientation(lt) <- orientation;
        fileTemplate(lt) <-file;
        
        groupType(lt) <- SystemGroupType.skuGroupType;
        
        priceListType(lt) <- SystemLedgerPriceListType.retailPricingPriceListType;
        
        in(lt, Group g) <- TRUE WHERE id(g) == 'all';
    }
}

loadDefaultLabelTypes 'Загрузить стандартные ценники'() = {
    loadDefaultLabelType('Ценник 200x130', 200, 130, PrintOrientation.portrait, 'Label_printLabelTransaction_l.jrxml');
    loadDefaultLabelType('Ценник 595x480', 595, 480, PrintOrientation.portrait, 'Label_printLabelTransaction_l_a4.jrxml');
} IN loadDefault;

@implementLoadDefaultData(loadDefaultLabelTypes);
