MODULE ItemSize;

REQUIRE System, Item;

NAMESPACE Item;

// Размеры
@defineDoubleItemAttribute(length, NUMERIC[8,2], 'Длина', itemSize);
@defineItemAttributeBatch (length, 'Длина');
@implementItemAttribute(lengthItem, 'Длина', Double, itemLength);

@defineDoubleItemAttribute(width, NUMERIC[8,2], 'Ширина', itemSize);
@defineItemAttributeBatch (width, 'Ширина');
@implementItemAttribute(widthItem, 'Ширина', Double, itemWidth);

@defineDoubleItemAttribute(height, NUMERIC[8,2], 'Высота', itemSize);
@defineItemAttributeBatch (height, 'Высота');
@implementItemAttribute(heightItem, 'Высота', Double, itemHeight);

// Объем
@defineDoubleItemAttribute(volume, NUMERIC[9,3], 'Объем', itemSize);
@defineItemAttributeBatch (volume, 'Объем');
@implementItemAttribute(volumeItem, 'Объем', Double, itemVolume);

volumeSku(sku) += volumeItem(sku);

overCopyItem(s, d) += ACTION (s, d) {
    ASSIGN lengthItem(d) <- lengthItem(s);
    ASSIGN widthItem(d) <- widthItem(s);
    ASSIGN heightItem(d) <- heightItem(s);
    ASSIGN volumeItem(d) <- volumeItem(s);
}