MODULE PurchaseInvoiceTaxReverse;

REQUIRE TaxReverse, PurchaseInvoice;

NAMESPACE Purchase;

overValueVATUserInvoiceDetail(detail) += NUMERIC[10,5](valueRateRangeDate(VATUserInvoiceDetail(detail), dateUserInvoiceDetail(detail)) * 100 /
                                                       (100-valueRateRangeDate(VATUserInvoiceDetail(detail), dateUserInvoiceDetail(detail))))
                                         IF reverseRange(VATUserInvoiceDetail(detail));