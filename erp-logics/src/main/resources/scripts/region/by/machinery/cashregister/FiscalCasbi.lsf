MODULE FiscalCasbi;

REQUIRE System,
        POS;

fiscalCasbiPrint 'Напечатать фискальный чек' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiPrintReceiptActionProperty' (Receipt);
postPrint(Receipt receipt) += ACTION IF sidCashRegisterModel(receipt) == 'Casbi' THEN fiscalCasbiPrint(receipt);

fiscalCasbiAdvancePaper 'Прогон ленты' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiAdvancePaperActionProperty' ();
fiscalAdvancePaper() += ACTION IF sidModelCurrentCashRegister() == 'Casbi' THEN fiscalCasbiAdvancePaper();

fiscalCasbiXReport 'X-отчёт' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiXReportActionProperty' ();
fiscalXReport() += ACTION IF sidModelCurrentCashRegister() == 'Casbi' THEN fiscalCasbiXReport();

fiscalCasbiZReport 'Z-отчёт' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiZReportActionProperty' ();
fiscalZReport() += ACTION IF sidModelCurrentCashRegister() == 'Casbi' THEN fiscalCasbiZReport();

fiscalCasbiService 'Перемещение денег' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiServiceInOutActionProperty' (CashOperation);
fiscalService(CashOperation cashOperation) += ACTION IF sidCashRegisterModel(cashOperation) == 'Casbi' THEN fiscalCasbiService(cashOperation);

fiscalCasbiCancel 'Отменить чек' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiCancelReceiptActionProperty' (Receipt);
fiscalCancel(Receipt receipt) += ACTION IF sidModelCurrentCashRegister() == 'Casbi' THEN fiscalCasbiCancel(receipt);

fiscalCasbiDisplayText 'Вывести текст на дисплей' = ACTION CUSTOM 'lsfusion.erp.region.by.machinery.cashregister.fiscalcasbi.FiscalCasbiDisplayTextActionProperty' (ReceiptDetail);
fiscalDisplayText (ReceiptDetail receiptDetail) += ACTION IF sidCashRegisterModel(receiptDetail) == 'Casbi' THEN fiscalCasbiDisplayText(receiptDetail);