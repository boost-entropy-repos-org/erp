MODULE PurchaseManufacturingPriceListStock;

REQUIRE PurchaseManufacturingPrice, PurchaseInvoicePriceListStock;

NAMESPACE Purchase;

EXTEND CLASS SystemLedgerPriceListType { manufacturingPricePriceListType 'Изготовителя (последняя по ценовой группе)' }
batchLedgerPriceListTypeStock(type, stock) += WHEN type == SystemLedgerPriceListType.manufacturingPricePriceListType AND isCompanyStock(stock)
                                              THEN explicitBatchLedgerStock(stock);
inPriceListLedgerSystemLedgerPriceListType (ledger, type) += WHEN CLASS(manufacturingPriceInvoiceDetail(invoiceDetailInvoicePriceListLedger(ledger))) AND type == SystemLedgerPriceListType.manufacturingPricePriceListType THEN TRUE;
pricePriceListLedgerSystemLedgerPriceListType (ledger, type) += WHEN CLASS(manufacturingPriceInvoiceDetail(invoiceDetailInvoicePriceListLedger(ledger))) AND type == SystemLedgerPriceListType.manufacturingPricePriceListType THEN manufacturingPriceInvoiceDetail(invoiceDetailInvoicePriceListLedger(ledger));


