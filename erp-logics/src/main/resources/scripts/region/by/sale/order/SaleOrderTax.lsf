MODULE SaleOrderTax;

REQUIRE SaleOrder, SkuLedgerTax;

NAMESPACE Sale;

over1VATUserOrderDetail(detail) += VATBatch(batchUserOrderDetail(detail));
overSetValueVATUserOrderDetail(detail) += valueVATBatch(batchUserOrderDetail(detail));

// todo : временное решение, пока нету последовательности выполнения событий
WHEN SESSION FORMS userOrder CHANGED(batchUserOrderDetail(d)) DO {
    valueVATUserOrderDetail(d) <- valueVATBatch(batchUserOrderDetail(d)); 
}
