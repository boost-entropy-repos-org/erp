MODULE SaleInvoiceConsignmentBy;

REQUIRE SaleInvoice,
        SaleOperationConsignmentBy,
        InvoiceConsignmentBy;

NAMESPACE Sale;

@defineInvoiceConsignment(supplier, customer);

@implementConsignmentDocumentHeaderPrefix (invoice, invoice, Invoice);

consignmentType (Invoice consignment) += consignmentType(operation(consignment));
dataShipmentBase (Invoice consignment) += shipmentBase(operation(consignment));
ownerTrackType (Invoice consignment) += ownerTrackType(operation(consignment));

@deriveConsignmentPropertyALL(supplierStock);

notUseDriverTruck(Invoice c) += notUseDriverTruck(operation(c));
isInvoicePrice(InvoiceDetail d) += isInvoicePriceConsignment(operation(d));
roundPack(InvoiceDetail d) += roundPack(operation(d));

notUseIssuanceAllowed(Invoice c) += notUseIssuanceAllowed(operation(c));
notUseIssuanceExecuted(Invoice c) += notUseIssuanceExecuted(operation(c));
notPrintGr(Invoice c) += notPrintGr(operation(c));
useGoodsAccepted(Invoice c) += useGoodsAccepted(operation(c));