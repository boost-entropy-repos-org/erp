MODULE PurchaseOrderSeparation;

REQUIRE PurchaseOrder, PurchaseSeparation;

NAMESPACE Purchase;

@defineDocumentInterfaceHeaderSeparation(order);

@deriveDocumentHeaderSeparation(userOrder, supplier);

EXTEND FORM userOrder
    PROPERTIES(o) nameSeparation

    FILTERGROUP separation
        FILTER 'Признак разделения' separation(o) == separation(supplier(o), ks) OR 
                                    (NOT separation(o) AND NOT nullSeparation(supplier(o), ks)) DEFAULT
;