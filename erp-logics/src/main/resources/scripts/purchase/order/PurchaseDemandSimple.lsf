MODULE PurchaseDemandSimple;

REQUIRE PurchaseDemand;

NAMESPACE Purchase;


recQuantity (Sku sku, Stock stock, UserOrder userOrder) =    purchaseReserve(stock, sku, date(userOrder)) (+) 
                                                                            quantitySold(sku, stock, userOrder) (-)
                                                                            currentReservePurchase(sku, stock) (-) 
                                                                            (currentBalance(sku, stock) IF currentBalance(sku, stock) > 0.0) ; 

recommendedQuantity (Sku sku, Stock stock, UserOrder userOrder) += recQuantity(sku, stock, userOrder) IF recQuantity(sku, stock, userOrder) > 0;
