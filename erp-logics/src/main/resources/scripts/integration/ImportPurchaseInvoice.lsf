MODULE ImportPurchaseInvoice;

REQUIRE System,
        ImportDocument,
        Item,
        PurchaseInvoice;

importPurchaseInvoiceDataAction 'Импортировать инвойс' = ACTION CUSTOM 'lsfusion.erp.integration.ImportPurchaseInvoiceActionProperty';

importTypeUserInvoice = DATA ImportType(UserInvoice);
nameImportTypeUserInvoice 'Тип импорта' (userInvoice) = nameImportType(importTypeUserInvoice(userInvoice));

EXTEND FORM userInvoice
PROPERTIES(i) importPurchaseInvoiceDataAction TODRAW d TOOLBAR
PROPERTIES(i) nameImportTypeUserInvoice
;

EXTEND DESIGN userInvoice{
    headerTabbedPane {
        NEW import {
            caption = 'Импорт';
            type = CONTAINERH;
            NEW universalImport {
                caption = 'Универсальный импорт';
                ADD PROPERTY(nameImportTypeUserInvoice);
                ADD PROPERTY(importPurchaseInvoiceDataAction);
            }
        }
    }
}





