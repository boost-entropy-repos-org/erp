MODULE StockContractTemplateBy;

REQUIRE StockContractTemplate, LegalEntityBy;

overCreateStockContractTemplate(detail, contract) += ACTION (detail, contract) {

    SET valueTemplateEntry(detail) <- toText(UNPLegalEntity(supplierContractSku(contract))) WHERE keyTemplateEntry(detail) == 'UNPSupplier';
    SET valueTemplateEntry(detail) <- toText(UNPLegalEntity(customerContractSku(contract))) WHERE keyTemplateEntry(detail) == 'UNPCustomer';
}

overloadDefaultTemplates () += ACTION () {
    EXEC loadDefaultTemplateEntry('UNPSupplier', '1');
    EXEC loadDefaultTemplateEntry('UNPCustomer', '1');
}